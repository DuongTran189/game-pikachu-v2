(this["webpackJsonpgame-pikachu-v2"]=this["webpackJsonpgame-pikachu-v2"]||[]).push([[0],{47:function(e,n,t){},48:function(e,n,t){},60:function(e,n,t){"use strict";t.r(n);var c,a=t(1),i=t.n(a),l=t(22),o=t.n(l),r=(t(47),t(4)),d=(t(48),t(7)),s=t(62),j=t(9);!function(e){e.MAIN_PAGE="/",e.SINGLE_PLAYER_PAGE="/single-player",e.MULTI_PLAYER_PAGE="/multi-player",e.SURVIVAL_MODE_PAGE="/survival-mode",e.SPEED_MODE_PAGE="/speed-mode"}(c||(c={}));var u,O,b,h,m,p,E,x,g,P=t(2),y=t(5);!function(e){e.SELECTED_POKEMONS_SELECTOR="SELECTED_POKEMONS_SELECTOR"}(b||(b={})),function(e){e.SURVIVAL_MODE="SURVIVAL_MODE",e.SPEED_MODE="SPEED_MODE"}(h||(h={})),function(e){e.GAME_STATE="GAME_STATE",e.GAME_SOUND_STATE="GAME_SOUND_STATE",e.GAME_TIMING_STATE="GAME_TIMING_STATE",e.GAME_OVERLAY_STATE="GAME_OVERLAY_STATE",e.SELECTED_POKEMONS="SELECTED_POKEMONS"}(m||(m={})),function(e){e.RUNNING="running",e.PENDING="pending",e.COMPLETED="completed",e.FAILED="failed"}(p||(p={})),function(e){e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom"}(E||(E={})),function(e){e.START="start",e.END="end",e.LINE="line"}(x||(x={})),function(e){e.LEVEL_1="1",e.LEVEL_2="2",e.LEVEL_3="3",e.LEVEL_4="4",e.LEVEL_5="5",e.LEVEL_6="6",e.LEVEL_7="7",e.LEVEL_8="8",e.LEVEL_9="9",e.LEVEL_10="10",e.LEVEL_11="11",e.LEVEL_12="12",e.LEVEL_13="13",e.LEVEL_14="MAX"}(g||(g={}));var f=(u={},Object(y.a)(u,g.LEVEL_1,{row:3,col:4}),Object(y.a)(u,g.LEVEL_2,{row:4,col:4}),Object(y.a)(u,g.LEVEL_3,{row:4,col:5}),Object(y.a)(u,g.LEVEL_4,{row:4,col:6}),Object(y.a)(u,g.LEVEL_5,{row:4,col:7}),Object(y.a)(u,g.LEVEL_6,{row:6,col:8}),Object(y.a)(u,g.LEVEL_7,{row:7,col:8}),Object(y.a)(u,g.LEVEL_8,{row:8,col:8}),Object(y.a)(u,g.LEVEL_9,{row:8,col:9}),Object(y.a)(u,g.LEVEL_10,{row:8,col:10}),Object(y.a)(u,g.LEVEL_11,{row:8,col:11}),Object(y.a)(u,g.LEVEL_12,{row:8,col:12}),Object(y.a)(u,g.LEVEL_13,{row:9,col:12}),Object(y.a)(u,g.LEVEL_14,{row:10,col:12}),u),L=(O={},Object(y.a)(O,g.LEVEL_1,g.LEVEL_2),Object(y.a)(O,g.LEVEL_2,g.LEVEL_3),Object(y.a)(O,g.LEVEL_3,g.LEVEL_4),Object(y.a)(O,g.LEVEL_4,g.LEVEL_5),Object(y.a)(O,g.LEVEL_5,g.LEVEL_6),Object(y.a)(O,g.LEVEL_6,g.LEVEL_7),Object(y.a)(O,g.LEVEL_7,g.LEVEL_8),Object(y.a)(O,g.LEVEL_8,g.LEVEL_9),Object(y.a)(O,g.LEVEL_9,g.LEVEL_10),Object(y.a)(O,g.LEVEL_10,g.LEVEL_11),Object(y.a)(O,g.LEVEL_11,g.LEVEL_12),Object(y.a)(O,g.LEVEL_12,g.LEVEL_13),Object(y.a)(O,g.LEVEL_13,g.LEVEL_14),Object(y.a)(O,g.LEVEL_14,g.LEVEL_14),O),S=Object(P.b)({key:m.GAME_SOUND_STATE,default:{soundReady:!1,playOpenMenuSound:function(){},playEnableSound:function(){},playDisableSound:function(){},playCompletedGameSound:function(){},playFailedGameSound:function(){},playBiteSound:function(){},playRisingPopSound:function(){},playFanfareSound:function(){},playGlugSound:function(){},playNearlyEndTimeSound:function(){},playOffSound:function(){},playOnSound:function(){},playLevelUpSound:function(){},playPopDownSound:function(){},playPopUpOnSound:function(){},playPopUpOffSound:function(){},playYouWinSound:function(){}}});function v(e,n){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(c){return console.log(c),n}})),c=Object(r.a)(t,2),i=c[0],l=c[1];return[i,function(n){try{var t=n instanceof Function?n(i):n;l(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(c){console.log(c)}}]}var _=t(31),k=t(21);_.a.use(k.e).init({resources:{en:{translation:{English:"English",Vietnamese:"Vietnamese",Back:"Back",Replay:"Replay",Language:"Language",Level:"Level","Congratulations!":"Congratulations!","The fastest is best":"The fastest is best","The longest is best":"The longest is best","Your score":"Your score","Your time":"Your time","Remaining time":"Remaining time","Top players":"Top players","Single player":"Single player","Multi player":"Multi player","Main menu":"Main menu","Speed mode":"Speed mode","Survival mode":"Survival mode","Coming soon...":"Coming soon...","Scroll down to play":"Scroll down to play","Preparing resource...":"Preparing resource...","Please complete all levels as fast as you can":"Please complete all levels as fast as you can","Try your best not to run out of time as long as possible.":"Try your best not to run out of time as long as possible","Your time will increase when you match a pair of pokemon":"Your time will increase when you match a pair of pokemon","Choosing the wrong pair will increase the time":"Choosing the wrong pair will increase the time","Choosing the wrong pair will decrease the time":"Choosing the wrong pair will decrease the time"}},vi:{translation:{English:"Ti\u1ebfng Anh",Vietnamese:"Ti\u1ebfng Vi\u1ec7t",Back:"Tr\u1edf l\u1ea1i",Replay:"Ch\u01a1i l\u1ea1i",Language:"Ng\xf4n ng\u1eef",Level:"C\u1ea5p \u0111\u1ed9","Congratulations!":"Xin ch\xfac m\u1eebng!","The fastest is best":"Ho\xe0n th\xe0nh c\xe0ng s\u1edbm, th\u1ee9 h\u1ea1ng c\xe0ng cao","The longest is best":"K\xe9o d\xe0i th\u1eddi gian c\xe0ng l\xe2u, th\u1ee9 h\u1ea1ng c\xe0ng cao","Your score":"\u0110i\u1ec3m s\u1ed1 c\u1ee7a b\u1ea1n","Your time":"Th\u1eddi gian c\u1ee7a b\u1ea1n","Remaining time":"Th\u1eddi gian c\xf2n l\u1ea1i","Top players":"Danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i h\xe0ng \u0111\u1ea7u","Single player":"C\xe1 nh\xe2n","Multi player":"\u0110\u1ed1i kh\xe1ng","Main menu":"M\xe0n h\xecnh ch\xednh","Speed mode":"T\u1ed1c \u0111\u1ed9","Survival mode":"Sinh t\u1ed3n","Coming soon...":"\u0110ang ph\xe1t tri\u1ec3n...","Preparing resource...":"\u0110ang chu\u1ea9n b\u1ecb...","Scroll down to play":"L\u0103n chu\u1ed9t xu\u1ed1ng \u0111\u1ec3 ch\u01a1i","Please complete all levels as fast as you can":"H\xe3y ho\xe0n th\xe0nh t\u1ea5t c\u1ea3 c\u1ea5p \u0111\u1ed9 nhanh nh\u1ea5t c\xf3 th\u1ec3 ","Try your best not to run out of time as long as possible":"C\u1ed1 g\u1eafng h\u1ebft s\u1ee9c \u0111\u1ec3 kh\xf4ng h\u1ebft th\u1eddi gian l\xe2u nh\u1ea5t c\xf3 th\u1ec3","Your time will increase when you match a pair of pokemon":"Th\u1eddi gian c\u1ee7a b\u1ea1n s\u1ebd t\u0103ng th\xeam khi ch\u1ecdn kh\u1edbp m\u1ed9t c\u1eb7p pokemon","Choosing the wrong pair will increase the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb t\u0103ng th\xeam th\u1eddi gian","Choosing the wrong pair will decrease the time":"Ch\u1ecdn sai c\u1eb7p s\u1ebd b\u1ecb gi\u1ea3m th\u1eddi gian"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});var I=_.a,N=t(0),w=function(){var e=Object(s.a)().t,n=Object(P.e)(S).playOffSound,t=v("language","vi"),c=Object(r.a)(t,2),a=(c[0],c[1]),i=function(e){I.changeLanguage(e),a(e),n()};return Object(N.jsxs)("h5",{className:"select-language",children:[e("Language"),":"," ",Object(N.jsx)("strong",{onClick:function(){return i("en")},children:e("English")})," -"," ",Object(N.jsx)("strong",{onClick:function(){return i("vi")},children:e("Vietnamese")})]})},T=t(15),A=function(){var e=Object(s.a)().t,n=Object(P.e)(S).playPopUpOnSound;return Object(N.jsxs)("div",{className:"main-board",children:[Object(N.jsxs)(T.a,{children:[Object(N.jsx)("meta",{charSet:"utf-8"}),Object(N.jsx)("title",{children:"Pika pika! - Main board"})]}),Object(N.jsxs)("nav",{className:"navigation",children:[Object(N.jsx)(j.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(N.jsx)("button",{onClick:function(){return n()},children:e("Single player")})}),Object(N.jsx)(j.b,{to:c.MULTI_PLAYER_PAGE,children:Object(N.jsx)("button",{onClick:function(){return n()},children:e("Multi player")})}),Object(N.jsx)(w,{})]})]})},M=function(){var e=Object(s.a)().t;return Object(N.jsxs)("div",{className:"max-screen-container rank-board",children:[Object(N.jsx)("h1",{children:e("Top players")}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("h4",{children:Object(N.jsx)("em",{children:e("The longest is best")})}),Object(N.jsxs)("ol",{className:"rank-list",children:[Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"})]})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("h4",{children:Object(N.jsx)("em",{children:e("The fastest is best")})}),Object(N.jsxs)("ol",{className:"rank-list",children:[Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"}),Object(N.jsx)("li",{children:"Player"})]})]})]})]})},V=Object(P.b)({key:m.GAME_STATE,default:{status:p.PENDING,row:3,col:4,pokemons:{},matrix:[],level:g.LEVEL_1}}),G=t(12),D=t(3),R=t(32),C="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white",U=[{id:"poke-0",matched:!1,image:"".concat(C,"/1.png")},{id:"poke-1",matched:!1,image:"".concat(C,"/2.png")},{id:"poke-2",matched:!1,image:"".concat(C,"/3.png")},{id:"poke-3",matched:!1,image:"".concat(C,"/4.png")},{id:"poke-5",matched:!1,image:"".concat(C,"/5.png")},{id:"poke-4",matched:!1,image:"".concat(C,"/6.png")},{id:"poke-6",matched:!1,image:"".concat(C,"/7.png")},{id:"poke-7",matched:!1,image:"".concat(C,"/8.png")},{id:"poke-8",matched:!1,image:"".concat(C,"/9.png")},{id:"poke-9",matched:!1,image:"".concat(C,"/10.png")},{id:"poke-10",matched:!1,image:"".concat(C,"/11.png")},{id:"poke-11",matched:!1,image:"".concat(C,"/12.png")},{id:"poke-12",matched:!1,image:"".concat(C,"/13.png")},{id:"poke-13",matched:!1,image:"".concat(C,"/14.png")},{id:"poke-14",matched:!1,image:"".concat(C,"/15.png")},{id:"poke-15",matched:!1,image:"".concat(C,"/16.png")},{id:"poke-16",matched:!1,image:"".concat(C,"/17.png")},{id:"poke-17",matched:!1,image:"".concat(C,"/18.png")},{id:"poke-18",matched:!1,image:"".concat(C,"/19.png")},{id:"poke-19",matched:!1,image:"".concat(C,"/20.png")},{id:"poke-20",matched:!1,image:"".concat(C,"/21.png")},{id:"poke-21",matched:!1,image:"".concat(C,"/22.png")},{id:"poke-22",matched:!1,image:"".concat(C,"/23.png")},{id:"poke-23",matched:!1,image:"".concat(C,"/24.png")},{id:"poke-24",matched:!1,image:"".concat(C,"/25.png")},{id:"poke-25",matched:!1,image:"".concat(C,"/26.png")},{id:"poke-26",matched:!1,image:"".concat(C,"/27.png")},{id:"poke-27",matched:!1,image:"".concat(C,"/28.png")},{id:"poke-28",matched:!1,image:"".concat(C,"/29.png")},{id:"poke-29",matched:!1,image:"".concat(C,"/30.png")},{id:"poke-30",matched:!1,image:"".concat(C,"/31.png")},{id:"poke-31",matched:!1,image:"".concat(C,"/32.png")},{id:"poke-32",matched:!1,image:"".concat(C,"/33.png")},{id:"poke-33",matched:!1,image:"".concat(C,"/34.png")},{id:"poke-34",matched:!1,image:"".concat(C,"/35.png")},{id:"poke-35",matched:!1,image:"".concat(C,"/36.png")},{id:"poke-36",matched:!1,image:"".concat(C,"/37.png")},{id:"poke-37",matched:!1,image:"".concat(C,"/38.png")},{id:"poke-38",matched:!1,image:"".concat(C,"/39.png")},{id:"poke-39",matched:!1,image:"".concat(C,"/40.png")}],F=function(e){var n=e.sort((function(){return Math.random()-.5})),t={};return n.map((function(e){var n=Object(R.a)();return t[n]=e,e})),t},Y=function(e){var n=function(e){var n=[];return Object.keys(e).map((function(t){return n.push(e[t]),t})),n}(e);return F(n)},B=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=Object(D.a)({},e),a=t+2,i=n+2,l=Object.keys(e),o=[],r=0;r<i;r++){void 0===o[r]&&(o[r]=[]);for(var d=0;d<a;d++)if(0===r||r===i-1||0===d||d===a-1){var s=Object(R.a)(),j={nid:s,id:s,matched:!0};o[r].push(j)}else{var u=l.pop();if(u){var O=Object(D.a)(Object(D.a)({},c[u]),{},{nid:u,row:r,col:d});c[u]=Object(D.a)(Object(D.a)({},c[u]),{},{rowIndex:r,colIndex:d}),o[r].push(O)}}}return{pokemonMatrix:o,pokemons:c}},W=function(e,n,t,c,a){var i=function(e,n,t,c,a){for(var i=c+2,l=a+2,o=function(e){for(var n=[],t=e.length,c=0;c<t;c++)n[c]=e[c].slice();return n}(t),r=[],d=[],s=0;s<i;++s){r.push([]),d.push([]);for(var j=0;j<l;++j){var u=Object(D.a)({},o[s][j]);r[s].push(u.matched),d[s].push(void 0)}}var O=[-1,0,1,0],b=[0,1,0,-1],h=[];for(h.push(n),d[n.rowIndex][n.colIndex]={rowIndex:-2,colIndex:-2},r[e.rowIndex][e.colIndex]=!0,r[n.rowIndex][n.colIndex]=!0;h.length;){var m=h.shift();if(m){if((null===m||void 0===m?void 0:m.rowIndex)===e.rowIndex&&(null===m||void 0===m?void 0:m.colIndex)===e.colIndex)break;for(var p=0;p<4;p++)for(var E=m.rowIndex+O[p],x=m.colIndex+b[p];E>=0&&E<i&&x>=0&&x<l&&!0===r[E][x];)void 0===d[E][x]&&(d[E][x]=m,h.push({rowIndex:E,colIndex:x})),E+=O[p],x+=b[p]}}var g=[],P=Object(D.a)({},e);if(d[P.rowIndex][P.colIndex])for(;-2!==P.rowIndex&&-2!==P.colIndex;)g.push({rowIndex:P.rowIndex,colIndex:P.colIndex}),P=Object(D.a)({},d[P.rowIndex][P.colIndex]);return g}(e,n,t,c,a);return{connected:i.length>=2&&i.length<=4,pathPoints:i}},K=function(e,n){var t=n.rowIndex,c=n.colIndex;return e.find((function(e){return e.rowIndex===t&&e.colIndex===c}))},q=function(e,n,t,c,a){var i=Object(D.a)({},n),l=Object(G.a)(e),o=Object(r.a)(l,2),d=o[0],s=o[1],j=[],u=Object(G.a)(t);if((null===d||void 0===d?void 0:d.nid)&&(null===s||void 0===s?void 0:s.nid)&&n[d.nid].id===n[s.nid].id){var O=W(d,s,t,c,a),b=O.connected,h=O.pathPoints;if(b)j=function(e,n,t){var c=n+2,a=t+2;return e.reduce((function(e,n,t,i){var l=x.LINE,o=void 0,r=t-1;if(void 0===i[t+1]&&(l=x.END),i[r]){var d=i[r];d.rowIndex>n.rowIndex?o=E.TOP:d.rowIndex<n.rowIndex?o=E.BOTTOM:d.colIndex>n.colIndex?o=E.LEFT:d.colIndex<n.colIndex?o=E.RIGHT:d.rowIndex>n.rowIndex?o=E.TOP:d.rowIndex<n.rowIndex&&(o=E.BOTTOM);var s=Object(D.a)(Object(D.a)({},n),{},{direction:o,type:x.LINE});do{switch(s.direction){case E.BOTTOM:s.rowIndex--,s.rowIndex<0&&(s=void 0);break;case E.TOP:s.rowIndex++,s.rowIndex>=c&&(s=void 0);break;case E.LEFT:s.colIndex++,s.colIndex>=a&&(s=void 0);break;case E.RIGHT:s.colIndex--,s.colIndex<0&&(s=void 0)}if(void 0===s)break;if(s.rowIndex===d.rowIndex&&s.colIndex===d.colIndex)break;e.push(Object(D.a)({},s))}while(void 0!==s)}else l=x.START;var j=Object(D.a)(Object(D.a)({},n),{},{direction:o,type:l});return e.push(j),e}),[])}(h,c,a),i[d.nid]=Object(D.a)(Object(D.a)({},i[d.nid]),{},{matched:!0}),i[s.nid]=Object(D.a)(Object(D.a)({},i[s.nid]),{},{matched:!0}),u=B(i,c,a).pokemonMatrix;else j=[{rowIndex:-1,colIndex:-1}];l.length=0}else 2===e.length&&(l.length=0,j=[{rowIndex:-1,colIndex:-1}]);return{newSelectedPokemons:l,newMatrix:u,newPokemons:i,connectingLinePoints:j}},H=Object(P.b)({key:m.GAME_OVERLAY_STATE,default:{connectingLinePoints:[]}}),J=Object(P.b)({key:m.SELECTED_POKEMONS,default:[]}),X=Object(P.c)({key:b.SELECTED_POKEMONS_SELECTOR,get:function(e){return(0,e.get)(J)},set:function(e,n){var t=e.set,c=e.get,a=c(V),i=a.row,l=a.col,o=a.status,r=a.matrix,d=a.pokemons,s=a.level,j=c(J),u=Object(G.a)(j);u.push(n);var O=q(u,d,r,i,l),b=O.connectingLinePoints,h=O.newMatrix,m=O.newPokemons,p=O.newSelectedPokemons;b.length>=1&&(b.length>1&&t(V,{row:i,col:l,status:o,level:s,matrix:h,pokemons:m}),t(H,{connectingLinePoints:b})),t(J,p)}});function z(){var e=Object(P.g)(X),n=Object(P.f)(V),t=Object(P.f)(H),c=Object(P.f)(J),a=Object(P.e)(S).playBiteSound;return{selectPokemon:function(n,t,c){a(),e({nid:n,rowIndex:t,colIndex:c})},resetGame:function(){n(),t(),c()}}}var Q=function(){var e=Object(s.a)().t,n=Object(P.e)(S).playPopUpOnSound,t=z().resetGame;return Object(a.useEffect)((function(){t()}),[t]),Object(N.jsxs)("div",{className:"game-container",children:[Object(N.jsxs)(T.a,{children:[Object(N.jsx)("meta",{charSet:"utf-8"}),Object(N.jsx)("title",{children:"Pika pika! - Single player"})]}),Object(N.jsx)("div",{className:"game-board",children:Object(N.jsx)(M,{})}),Object(N.jsxs)("div",{className:"sidebar",children:[Object(N.jsx)("div",{className:"game-info",children:Object(N.jsx)("h1",{className:"game-title",children:e("Single player")})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(j.b,{to:c.SURVIVAL_MODE_PAGE,children:Object(N.jsx)("button",{onClick:function(){return n()},children:e("Survival mode")})}),Object(N.jsx)(j.b,{to:c.SPEED_MODE_PAGE,children:Object(N.jsx)("button",{onClick:function(){return n()},children:e("Speed mode")})}),Object(N.jsx)(j.b,{to:c.MAIN_PAGE,children:Object(N.jsx)("button",{onClick:function(){return n()},children:e("Back")})})]}),Object(N.jsx)(w,{})]})]})},Z=function(){var e=Object(s.a)().t,n=Object(P.e)(S).playPopUpOnSound;return Object(N.jsxs)("div",{className:"main-board",children:[Object(N.jsxs)(T.a,{children:[Object(N.jsx)("meta",{charSet:"utf-8"}),Object(N.jsx)("title",{children:"Pika pika! - Multi player"})]}),Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("p",{className:"text-coming-soon",children:e("Coming soon...")}),Object(N.jsx)(j.b,{to:c.MAIN_PAGE,children:Object(N.jsx)("button",{onClick:function(){return n()},children:e("Main menu")})})]})]})},$=function(e){var n,t=e.pokemon,c=e.rowIndex,a=e.colIndex,i=e.isSelected,l=e.selectPokemon,o=i?"selected":"",r=t.matched?"hidden":"";return Object(N.jsx)("div",{style:{backgroundImage:"url(".concat(null!==(n=t.image)&&void 0!==n?n:"",")")},className:"pokemon-card ".concat(o," ").concat(r),onClick:function(){i||t.matched||!t.nid||l(t.nid,c,a)}})};function ee(e,n){return e.pokemon.nid===n.pokemon.nid&&e.pokemon.image===n.pokemon.image&&e.pokemon.matched===n.pokemon.matched&&e.isSelected===n.isSelected}var ne=Object(a.memo)($,ee),te=function(e){var n=e.pokemons,t=e.rowIndex,c=Object(P.e)(J),a=z().selectPokemon;return Object(N.jsx)(N.Fragment,{children:n.map((function(e,n){return Object(N.jsx)(ne,{pokemon:e,rowIndex:t,colIndex:n,isSelected:void 0!==e.nid&&c.findIndex((function(n){return n.nid===e.nid}))>=0,selectPokemon:a},"card-".concat(n))}))})},ce=Object(P.b)({key:m.GAME_TIMING_STATE,default:{timing:0,yourTiming:0}});function ae(e){var n=Object(d.f)(),t=Object(P.g)(V),c=Object(P.g)(ce),i=Object(P.e)(S),l=i.playFanfareSound,o=i.playLevelUpSound,s=i.playCompletedGameSound,j=i.playYouWinSound,u=Object(P.e)(V),O=u.matrix,b=u.row,m=u.col,E=u.status,x=u.pokemons,y=u.level,v=Object(a.useCallback)((function(e){var n=f[e],c=n.row,a=n.col,i=function(e,n){var t=e*n/4,c=U.sort((function(){return Math.random()-.5})).slice(0,t),a=[].concat(Object(G.a)(c),Object(G.a)(c),Object(G.a)(c),Object(G.a)(c));return F(a)}(c,a),l=B(i,c,a),o=l.pokemonMatrix,r=l.pokemons;t({pokemons:r,matrix:o,level:e,row:c,col:a,status:p.RUNNING})}),[t]);return Object(a.useEffect)((function(){return E===p.PENDING&&(l(),v(y),e===h.SURVIVAL_MODE&&c({timing:300,yourTiming:0}),e===h.SPEED_MODE&&c({timing:0})),function(){}}),[E,v]),Object(a.useEffect)((function(){if(function(e){return Object.keys(e).length&&-1===Object.entries(e).findIndex((function(e){var n=Object(r.a)(e,2);return n[0],!1===n[1].matched}))}(x)){var n=L[y];y!==n||e===h.SURVIVAL_MODE?(v(n),s()):e===h.SPEED_MODE&&(j(),t({matrix:O,row:b,col:m,pokemons:x,level:y,status:p.COMPLETED}))}else Object.keys(x).length&&!1===function(e,n,t,c){for(var a=!1,i=Object.entries(e),l=function(){var e=i.pop();if(void 0===e)return"break";var l=Object(r.a)(e,2),o=(l[0],l[1]);return!1===o.matched&&(a=i.some((function(e){var a=Object(r.a)(e,2),i=(a[0],a[1]);return o.id===i.id&&!1===i.matched&&W(o,i,n,t,c).connected})))?"break":void 0};i.length&&"break"!==l(););return a}(x,O,b,m)&&(!function(e){var n=Y(e),c=B(n,b,m),a=c.pokemonMatrix,i=c.pokemons;t({pokemons:i,matrix:a,level:y,row:b,col:m,status:p.RUNNING})}(x),o())}),[x]),Object(a.useEffect)((function(){E===p.RUNNING&&(l(),v(g.LEVEL_1),e===h.SURVIVAL_MODE&&c({timing:300,yourTiming:0}),e===h.SPEED_MODE&&c({timing:0}))}),[n]),{initGame:v,replayGame:function(){l(),v(g.LEVEL_1),e===h.SURVIVAL_MODE&&c({timing:30,yourTiming:0}),e===h.SPEED_MODE&&c({timing:0})},endGame:function(){e===h.SURVIVAL_MODE&&(j(),t({matrix:O,row:b,col:m,pokemons:x,level:y,status:p.COMPLETED}))},matrix:O,row:b,col:m,status:E,level:y}}var ie=function(e){var n=ae(e.mode),t=n.matrix,c=n.row,a=n.col;return Object(N.jsx)("div",{className:"game-pokemon board-".concat(c,"x").concat(a),children:t&&t.map((function(e,n){return Object(N.jsx)(te,{rowIndex:n,pokemons:e},"row-".concat(n))}))})},le=function(e){var n=e.point,t=e.rowIndex,c=e.colIndex,i=n&&n.type?"".concat(n.type,"-point"):"",l=n&&n.direction?"".concat(n.direction,"-direction"):"",o=n?"in-line ".concat(l," ").concat(i):"",r=Object(a.useRef)(null);return Object(a.useEffect)((function(){return setTimeout((function(){r.current&&(l&&r.current.classList.remove(l),i&&r.current.classList.remove(i))}),300),function(){}}),[r,l,i]),Object(N.jsx)("div",{ref:r,className:"line-card ".concat(o),children:Object(N.jsxs)("strong",{children:[t,",",c]})})};function oe(e,n){var t,c,a,i;return void 0===e.point&&void 0===n.point||(null===(t=e.point)||void 0===t?void 0:t.direction)===(null===(c=n.point)||void 0===c?void 0:c.direction)&&(null===(a=e.point)||void 0===a?void 0:a.type)===(null===(i=n.point)||void 0===i?void 0:i.type)}var re=Object(a.memo)(le,oe),de=function(e){var n=e.cards,t=e.rowIndex,c=e.connectingLinePoints;return Object(N.jsx)(N.Fragment,{children:n.map((function(e,n){return Object(N.jsx)(re,{rowIndex:t,colIndex:n,point:K(c,{rowIndex:t,colIndex:n})},"card-".concat(n))}))})};var se=function(e){var n=function(e){var n=Object(P.e)(H).connectingLinePoints,t=Object(P.e)(V),c=t.matrix,i=t.row,l=t.col,o=t.status,r=Object(P.e)(S),d=r.playRisingPopSound,s=r.playGlugSound,j=Object(P.g)(ce);return Object(a.useEffect)((function(){1===n.length&&(s(),e===h.SPEED_MODE&&j((function(e){return{timing:e.timing+5}})),e===h.SURVIVAL_MODE&&j((function(e){return Object(D.a)(Object(D.a)({},e),{},{timing:e.timing-5})}))),n.length>1&&(d(),e===h.SURVIVAL_MODE&&j((function(e){return Object(D.a)(Object(D.a)({},e),{},{timing:e.timing+2})})))}),[n]),{connectingLinePoints:n,matrix:c,row:i,col:l,status:o}}(e.mode),t=n.connectingLinePoints,c=n.matrix,i=n.row,l=n.col,o=new Array(l+2).fill(!1);return Object(N.jsx)("div",{className:"game-overlay board-".concat(i,"x").concat(l),children:c&&c.map((function(e,n){return Object(N.jsx)(de,{cards:o,rowIndex:n,connectingLinePoints:t},"row-".concat(n))}))})};function je(e){if(e<=0)return"00:00";var n=e%60;return Math.floor(e/60).toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")}var ue=function(){var e=Object(s.a)().t,n=Object(P.e)(V),t=n.level,c=n.status,i=Object(P.d)(ce),l=Object(r.a)(i,2),o=l[0],d=l[1],j=o.timing,u=ae(h.SPEED_MODE).replayGame;return Object(a.useEffect)((function(){var e=void 0;return c===p.RUNNING&&(e=setTimeout((function(){d({timing:j+1})}),1e3)),function(){e&&clearTimeout(e)}}),[j,c]),Object(N.jsxs)("div",{className:"game-info",children:[Object(N.jsx)("h1",{className:"game-title",children:c===p.COMPLETED?e("Congratulations!"):e("Speed mode")}),Object(N.jsxs)("h3",{className:"game-title",children:[e("Level")," ",t," / 14"]}),Object(N.jsxs)("p",{className:"text-center",children:[e("Your time"),": ",je(j)]}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:u,children:e("Replay")})})]})},Oe=function(){var e=Object(s.a)().t,n=Object(P.e)(V).status,t=Object(P.e)(S).playPopUpOnSound;return Object(N.jsxs)("div",{className:"game-container",children:[Object(N.jsxs)(T.a,{children:[Object(N.jsx)("meta",{charSet:"utf-8"}),Object(N.jsx)("title",{children:"Pika pika! - Speed mode board"})]}),Object(N.jsxs)("div",{className:"game-board game-".concat(n),children:[Object(N.jsx)(ue,{}),Object(N.jsx)(se,{mode:h.SPEED_MODE}),Object(N.jsx)(ie,{mode:h.SPEED_MODE})]}),Object(N.jsxs)("div",{className:"sidebar",children:[Object(N.jsx)(ue,{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("blockquote",{className:"game-helper",children:e("Please complete all levels as fast as you can")}),Object(N.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will increase the time")})]}),Object(N.jsx)(j.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(N.jsx)("button",{onClick:function(){return t()},children:e("Back")})}),Object(N.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(N.jsx)(w,{})]})]})},be=function(){var e=Object(s.a)().t,n=Object(P.e)(V),t=n.level,c=n.status,i=Object(P.d)(ce),l=Object(r.a)(i,2),o=l[0],d=l[1],j=o.timing,u=o.yourTiming,O=void 0===u?0:u,b=ae(h.SURVIVAL_MODE),m=b.replayGame,E=b.endGame;return Object(a.useEffect)((function(){var e=void 0;return c===p.RUNNING&&(j<=0?E():e=setTimeout((function(){d({yourTiming:O+1,timing:j-1})}),1e3)),function(){e&&clearTimeout(e)}}),[j,c]),Object(N.jsxs)("div",{className:"game-info",children:[Object(N.jsx)("h1",{className:"game-title",children:c===p.COMPLETED?e("Congratulations!"):e("Survival mode")}),Object(N.jsxs)("h3",{className:"game-title",children:[e("Level")," ",t," / 14"]}),Object(N.jsxs)("p",{className:"text-center",children:[e("Your time"),": ",O&&je(O)]}),Object(N.jsxs)("p",{className:"text-center",children:[e("Remaining time"),": ",je(j)]}),Object(N.jsx)("p",{children:Object(N.jsx)("button",{onClick:m,children:e("Replay")})})]})},he=function(){var e=Object(s.a)().t,n=Object(P.e)(V).status,t=Object(P.e)(S).playPopUpOnSound;return Object(N.jsxs)("div",{className:"game-container",children:[Object(N.jsxs)(T.a,{children:[Object(N.jsx)("meta",{charSet:"utf-8"}),Object(N.jsx)("title",{children:"Pika pika! - Survival mode board"})]}),Object(N.jsxs)("div",{className:"game-board game-".concat(n),children:[Object(N.jsx)(be,{}),Object(N.jsx)(se,{mode:h.SURVIVAL_MODE}),Object(N.jsx)(ie,{mode:h.SURVIVAL_MODE})]}),Object(N.jsxs)("div",{className:"sidebar",children:[Object(N.jsx)(be,{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("blockquote",{className:"game-helper",children:e("Try your best not to run out of time as long as possible")}),Object(N.jsx)("blockquote",{className:"game-helper",children:e("Your time will increase when you match a pair of pokemon")}),Object(N.jsx)("blockquote",{className:"game-helper",children:e("Choosing the wrong pair will decrease the time")})]}),Object(N.jsx)(j.b,{to:c.SINGLE_PLAYER_PAGE,children:Object(N.jsx)("button",{onClick:function(){return t()},children:e("Back")})}),Object(N.jsx)("p",{className:"mobile-helper",children:e("Scroll down to play")}),Object(N.jsx)(w,{})]})]})};var me,pe=function(){var e=Object(s.a)().t,n=Object(P.e)(S).soundReady,t=v("language","vi"),i=Object(r.a)(t,1)[0];return Object(a.useEffect)((function(){I.changeLanguage(i)}),[i]),Object(N.jsxs)("div",{className:"app",children:[!n&&Object(N.jsx)("h1",{children:e("Preparing resource...")}),n&&Object(N.jsxs)(d.c,{children:[Object(N.jsx)(d.a,{path:c.MAIN_PAGE,exact:!0,children:Object(N.jsx)(A,{})}),Object(N.jsx)(d.a,{path:c.SINGLE_PLAYER_PAGE,exact:!0,children:Object(N.jsx)(Q,{})}),Object(N.jsx)(d.a,{path:c.MULTI_PLAYER_PAGE,exact:!0,children:Object(N.jsx)(Z,{})}),Object(N.jsx)(d.a,{path:c.SPEED_MODE_PAGE,exact:!0,children:Object(N.jsx)(Oe,{})}),Object(N.jsx)(d.a,{path:c.SURVIVAL_MODE_PAGE,exact:!0,children:Object(N.jsx)(he,{})}),Object(N.jsx)(d.a,{path:"*",children:Object(N.jsx)(A,{})})]})]})},Ee=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,63)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),c(e),a(e),i(e),l(e)}))},xe=t(42),ge=t.p+"static/media/menu-open.019cf647.mp3",Pe=t.p+"static/media/disable-sound.477d0574.mp3",ye=t.p+"static/media/enable-sound.00d0be95.mp3",fe=t.p+"static/media/switch-on.88d10ee7.mp3",Le=t.p+"static/media/switch-off.e5ebe933.mp3",Se=t.p+"static/media/bite.aea7caff.mp3",ve=t.p+"static/media/fanfare.8807360a.mp3",_e=t.p+"static/media/glug-a.b9f1fa99.mp3",ke=t.p+"static/media/rising-pops.7eda816b.mp3",Ie=t.p+"static/media/game-completion.a7022fca.wav",Ne=t.p+"static/media/gamers-fail-game.1bab0c1d.mp3",we=t.p+"static/media/time-limited.3894918f.wav",Te=t.p+"static/media/levelup.3dc0430f.mp3",Ae=t.p+"static/media/pop-down.cc0a5518.mp3",Me=t.p+"static/media/pop-up-on.b776a1ef.mp3",Ve=t.p+"static/media/pop-up-off.83c6ba5b.mp3",Ge=t.p+"static/media/you-win.70d95733.mp3";function De(e){var n=ge;if(e)switch(e){case me.BITE:n=Se;break;case me.COMPLETE_GAME:n=Ie;break;case me.DISABLE:n=Pe;break;case me.ENABLE:n=ye;break;case me.ON:n=fe;break;case me.OFF:n=Le;break;case me.FAIL_GAME:n=Ne;break;case me.GLUG:n=_e;break;case me.FANFARE:n=ve;break;case me.RISING_POP:n=ke;break;case me.NEARLY_END_TIME:n=we;break;case me.LEVEL_UP:n=Te;break;case me.POP_DOWN:n=Ae;break;case me.POP_UP_ON:n=Me;break;case me.POP_UP_OFF:n=Ve;break;case me.YOU_WIN:n=Ge;break;default:n=ge}var t=Object(xe.a)(n,{interrupt:!0}),c=Object(r.a)(t,2),a=c[0],i=c[1];return{playSound:a,loadedSound:i.sound,stopSound:i.stop,pauseSound:i.pause,duration:i.duration}}!function(e){e.MENU_OPEN="MENU_OPEN",e.BITE="BITE",e.DISABLE="DISABLE",e.ENABLE="ENABLE",e.ON="ON",e.OFF="OFF",e.FANFARE="FANFARE",e.GLUG="GLUG",e.RISING_POP="RISING_POP",e.COMPLETE_GAME="COMPLETE_GAME",e.FAIL_GAME="FAIL_GAME",e.NEARLY_END_TIME="NEARLY_END_TIME",e.LEVEL_UP="LEVEL_UP",e.POP_DOWN="POP_DOWN",e.POP_UP_ON="POP_UP_ON",e.POP_UP_OFF="POP_UP_OFF",e.YOU_WIN="YOU_WIN"}(me||(me={}));var Re=function(e){var n=e.children,t=De(),c=t.playSound,i=t.loadedSound,l=De(me.COMPLETE_GAME),o=l.playSound,r=l.loadedSound,d=De(me.FAIL_GAME),s=d.playSound,j=d.loadedSound,u=De(me.BITE),O=u.playSound,b=u.loadedSound,h=De(me.DISABLE),m=h.playSound,p=h.loadedSound,E=De(me.ENABLE),x=E.playSound,g=E.loadedSound,y=De(me.ON),f=y.playSound,L=y.loadedSound,v=De(me.OFF),_=v.playSound,k=v.loadedSound,I=De(me.FANFARE),w=I.playSound,T=I.loadedSound,A=De(me.GLUG),M=A.playSound,V=A.loadedSound,G=De(me.NEARLY_END_TIME),D=G.playSound,R=G.loadedSound,C=De(me.RISING_POP),U=C.playSound,F=C.loadedSound,Y=De(me.POP_DOWN),B=Y.playSound,W=Y.loadedSound,K=De(me.POP_UP_OFF),q=K.playSound,H=K.loadedSound,J=De(me.POP_UP_ON),X=J.playSound,z=J.loadedSound,Q=De(me.LEVEL_UP),Z=Q.playSound,$=Q.loadedSound,ee=De(me.YOU_WIN),ne=ee.playSound,te=ee.loadedSound,ce=Object(P.g)(S);return Object(a.useEffect)((function(){null!==p&&null!==g&&null!==T&&null!==R&&null!==i&&null!==L&&null!==k&&null!==V&&null!==F&&null!==r&&null!==j&&null!==W&&null!==H&&null!==z&&null!==$&&null!==te&&null!==b&&setTimeout((function(){ce({playFanfareSound:w,playGlugSound:M,playBiteSound:O,playCompletedGameSound:o,playDisableSound:m,playEnableSound:x,playFailedGameSound:s,playRisingPopSound:U,playOpenMenuSound:c,playOnSound:f,playOffSound:_,playNearlyEndTimeSound:D,playPopUpOnSound:q,playPopUpOffSound:X,playLevelUpSound:Z,playPopDownSound:B,playYouWinSound:ne,soundReady:!0})}),1e3)}),[T,V,b,r,p,g,j,F,i,L,k,R,H,z,$,W,te]),Object(N.jsx)(N.Fragment,{children:n})};o.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(P.a,{children:Object(N.jsx)(Re,{children:Object(N.jsx)(j.a,{children:Object(N.jsx)(pe,{})})})})}),document.getElementById("root")),Ee()}},[[60,1,2]]]);
//# sourceMappingURL=main.9416c973.chunk.js.map